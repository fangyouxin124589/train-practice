<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      rel="shortcut icon"
      href="./images/faviconWeb.ico"
      type="image/x-icon"
    />
    <title>漫游吧_新闻详情</title>
    <link rel="stylesheet" href="./news-detail.css" />
    <link rel="stylesheet" href="./footer.css">
    <link rel="stylesheet" href="./css/bootstrap.min.css">
    <script src="../vue.js"></script>
    <script src="https://cdn.bootcdn.net/ajax/libs/axios/0.19.2/axios.js"></script>
    <!-- <script src="https://cdn.staticfile.org/jquery/1.10.2/jquery.min.js"></script> -->
    <script src="./js/jquery-3.5.1.min.js"></script>
    <script src="./styles.js"></script>
  </head>

  <body>
    <div id="app">
      <div
        style="
          width: 100%;
          height: 50px;
          background-color: #5f5d5d;
          border-bottom: 1px solid #b9b0b0;
        "
      >
        <div class="header">
          <div class="header_left">
            <img src="./images/avatar.jpg" class="avatar" />
            <a href="./index.html">
              <span>漫游吧</span>
            </a>
          </div>
          <div class="header_right">
            <a href="./index.html">首页</a>
            <a href="./news.html">新闻列表</a>
            <a href="./about.html">关于我们</a>
          </div>
          <div class="header_right_app">
            <img src="./images/菜单.png" alt="" width="30px" />
          </div>
        </div>
      </div>
      <div class="nav_app">
        <ul>
          <a href="index.html">
            <li>首页</li>
          </a>
          <a href="news.html">
            <li>新闻</li>
          </a>
          <a href="about.html">
            <li>关于我们</li>
          </a>
        </ul>
      </div>
      <div class="main">
        <h3
          style="
            text-align: center;
            margin-bottom: 20px;
            border-bottom: 1px solid gray;
          "
        >
          {{this.article.title}}
        </h3>
        <div v-html="this.article.body" class="article_content"></div>
      </div>
      <div class="footer">
        <div class="footer_main">
          <div class="footer_main_item">
            <img src="./images/地址.png" alt="" />
            <span>福建省福州市晋安区</span>
          </div>
          <div class="footer_main_item">
            <img src="./images/邮件.png" alt="" />
            <span>123456@qq.com</span>
          </div>
          <div class="footer_main_item">
            <img src="./images/手机.png" alt="" />
            <span>123456</span>
          </div>
          <div class="footer_main_item">
            <img src="./images/scan.jpg" alt="" />
          </div>
        </div>
        <div class="footer_bottom">
          <span>版权所有@方友鑫</span>
        </div>
      </div>
    </div>

    <script>
      new Vue({
        el: "#app",
        data() {
          return {
            article: [],
          };
        },
        created() {
          this.getArticle();
        },
        methods: {
          async getArticle() {
            const id = this.getID();
            var index;
            // console.log(id);
            const res = await axios.get(
              `https://www.fastmock.site/mock/e9270e68f2c1a1c8fcd776e7165a8ad3/articles/api/article?id=${id}`
            );
            console.log(res.data.data[0]);
            this.article = res.data.data[0];
          },
          getID() {
            var query = window.location.search.substring(1).split("&");
            var id = query[0].split("=")[1];
            // console.log(id)
            return id;
          },
        },
      });
    </script>
  </body>
</html>
